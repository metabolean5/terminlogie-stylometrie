solution.  Dans un système de dialogue oral Homme-Machine (DOHM), le module de « compréhension » de la langue orale spontanée remplit une tâche essentielle : à partir de la liste ou du graphe de mots que lui transmet le module de reconnaissance de la parole, il doit construire une structure sémantique qui puisse rendre compte du sens du message de l'utilisateur et qui soit utilisable par le module de dialogue.  Lorsque le système de DOHM est conçu pour une tâche très restreinte, horaires de train ou  d'avion par exemple, cette interprétation du message peut se limiter à la détection d'une séquence de concepts, sur la base de structures sémantiques prédéfinies. Mais, lorsque le domaine d'application s'élargit, cette prédéfinition des requêtes devient plus complexe et la compréhension requiert d'autres approches (van Noord et al., 1999).  L  est un système de compréhension de la parole spontanée dans le cadre d'un DOHM conçu pour des domaines restreints, mais néanmoins plus étendus que les domaines où opèrent la plupart des systèmes actuellement opérationnels. Il correspond à la mise en oeuvre d'une approche logique qui utilise différents formalismes pour combiner des outils syntaxiques et sémantiques. La prise en compte du contexte de dialogue est l'un des éléments essentiels de la « compréhension ». Particulièrement, l'approche utilisée pour la résolution des références reste symbolique et logique et vient ainsi en complément de celle utilisée dans la conception générale du système.  Cet article présente essentiellement les travaux d'implémentation de la compréhension en  contexte de dialogue réalisés sur le système L à partir du corpus M . Après une brève exposition dans la section 2 des principes qui ont présidé à la conception du système L , la section 3 décrit le cadre du projet M et fait une brève analyse de son corpus, afin de dégager l'intérêt de son utilisation pour une telle expérimentation. Les principes de la compréhension en contexte et, plus précisément, de la résolution des références mises en oeuvre dans L sont présentés dans la section 4. La section 5 présente une analyse quantitative et qualitative des résultats. L'article se termine avec la discussion et les conclusions présentées dans la section 6.  L  est un système de compréhension de l'oral spontané pour l'interrogation orale d'une base de données . Il a été conçu pour fonctionner dans un domaine sensiblement plus large que ceux habituellement considérés pour ce type d'applications, où une représentation sémantique de l'énoncé par listes préconstruites d'attributs-valeurs s'avère suffisante. Néanmoins, l'analyse s'appuie sur une connaissance sémantique du domaine qui doit donc rester bien délimité et relativement étroit.  À partir d'une liste de mots issue d'un module de reconnaissance de la parole, L  produit une formule logique qui représente le sens de l'énoncé. Le formalisme utilisé est adapté de la logique illocutoire de D. Vanderveken (Vanderveken, 2001) ; la formule logique s'obtient par application d'un acte de langage (sa force propositionnelle) à une structure construite à partir des « objets » de l'énoncé connus du système (son contenu propositionnel). La représentation sémantique peut également être représentée sous la forme d'un graphe conceptuel à la Sowa (Sowa, 2001). La figure 1 donne un exemple de la structure sémantique obtenue à partir d'un énoncé du corpus M (cf. 3.1). L'analyse de l'énoncé est incrémentale et progressive ; elle se fait par étapes qui utilisent successivement différents formalismes logiques.  L'énoncé :  « je souhaiterais réserver dans un hôtel Mercure trois étoiles à Belfort pour les quatre derniers jours de juin » Sorties L : (vouloir (de (reservation [(date (num_mois (derniers (entier 4)) (nom &#34;juin&#34;)))]) (hotel [ (marque_hotel (nom &#34;Mercure&#34;)), (etoiles (entier 3)), (lieu (ville [(identification (nom &#34;Belfort&#34;))]))])  - Un lexique permet d'attacher à chaque mot « connu » une ou plusieurs « définitions ».  - Une première analyse partielle rattache les mots grammaticaux à leur tête lexicale. Cette étape peut être considérée comme un « chunking minimaliste ». Elle utilise des règles adaptées de celles des grammaires catégorielles de type AB et les termes simplement typés du -calcul (Villaneau & Antoine, 2004). - Les étapes suivantes s'appuient sur une connaissance du domaine (ontologie) qui décrit le type des concepts du domaine d'application et les liens sémantiques qui peuvent les réunir. L'analyse de ces liens dans l'énoncé utilise les règles génériques d'une grammaire qui combinent les indices syntaxiques et sémantiques des différents composants. Ces règles sont appliquées en cascade, avec un assouplissement progressif des contraintes syntaxiques. - La dernière étape prend en compte le contexte du dialogue pour compléter et préciser la compréhension de l'énoncé (cf. section 4). C'est essentiellement à l'expérimentation sur le corpus M de cette contextualisation qu'est consacré cet article. EDIA  Le projet M  (programme Technolangue/Evalda) avait pour objectif l'évaluation de différents systèmes de compréhension en dialogue Homme-Machine, hors et en contexte de dialogue. Les partenaires du projet avaient choisi d'enregistrer un corpus à partir d'un serveur de réservation hôtelière. Le corpus enregistré par ELDA (appellé corpus M par la suite) pour la campagne d'évaluation comporte 1250 dialogues : les 250 utilisateurs du système ont interrogé le système suivant différents scenarii de réservation d'hôtels, élaborés par les partenaires  du projet. L'enregistrement s'est fait suivant le principe du Magicien d'Oz : les locuteurs ont  dialogué avec un système simulé à leur insu par un opérateur humain. La figure 2 donne un extrait de dialogue du corpus. Dans cet exemple, Ut désigne l'utilisateur du système et Co le compère qui simule le système. Les expressions soulignées indiquent les marques linguistiques qui renvoient à une résolution des références en contexte de dialogue.  ...  ... Ut &#34;réserver une chambre simple du premier au six décembre dans trois endroits différents&#34; Co &#34;dans quelle ville souhaitez vous vous rendre&#34; Ut &#34;alors du un au trois décembre je veux être à Chalon Sur Saône du trois au cinq décembre à Bourg en Bresse et du cinq au six à Chaumont&#34; Co &#34;veuillez patienter nous recherchons cette information à Chalon Sur Saône du premier au trois décembre deux hôtels correspondent à votre demande le Saint Régis et le Ibis centre ville voulez vous des détails ou réserver dans l un de ces hôtels&#34; Ut &#34;hum des détails&#34; Co &#34;quelle information voulez vous&#34; Ut &#34;euh je voudrais le prix de la chambre&#34; Co &#34;'a l hôtel le Saint Régis la chambre individuelle est à cinquante euros 'a l hôtel Ibis centre ville la chambre individuelle est à cinquante euros souhaitez vous faire une réservation dans l un de ces hôtels&#34; Ut &#34;euh est ce que l un de ces hôtels accueille les animaux et est ce qu il y a un tennis&#34; ... ... Co &#34;... souhaitez vous réserver dans l un de ces hôtels&#34; Ut &#34;oui&#34; Co &#34;si oui lequel&#34; Ut &#34;euh le premier&#34; ... ...  Le corpus ainsi enregistré a ensuite fait l'objet d'une transcription manuelle par ELDA, puis  d'une annotation sémantique suivant les règles d'un manuel d'annotation mis au point par les partenaires du projet : dans l'annotation sémantique hors-contexte, chaque énoncé est divisé en segments conceptuels « porteurs de sens ». À chacun d'entre eux est attribué un triplet (mode, attribut, valeur) ; des spécifieurs sont attachés aux attributs, afin de préciser les liens entre les différents concepts . La figure 3 donne un énoncé extrait du corpus M avec son annotation sémantique.  Dans l'annotation sémantique en contexte de dialogue, les expressions référentielles portent les  numéros des segments conceptuels auxquels elles renvoient.  je souhaiterais réserver + :command-tache :reservation  dans un hôtel Mercure + :hotel-marque-reservation :mercure trois étoiles + :hotel-etoile :3etoile à Belfort + :localisation-ville-hotel :belfort pour les quatre + :nombre-temps-reservation :4 derniers + :temps-axetps-reservation :dernier jours + :temps-unite-reservation :jour de juin + :temps-mois-reservation :6  Le système L  a participé à la campagne d'évaluation hors-contexte (Bonneau-Maynard et al., 2006). Il y a obtenu des résultats honorables mais sans grande signification . En effet, la principale difficulté rencontrée pour la participation de L à cette campagne ne fut pas l'adaptation du système à la tâche, mais bien la transformation de la formule logique obtenue en la suite ordonnée de triplets (mode, attribut, valeur) demandée par M . Les sorties L sont globales : il y a « oubli » de l'ordre des mots et de la forme linguistique attachée à l'expression des requêtes. Comme on pouvait le craindre, l'annotation « collée au texte » de M s'est révélée souvent difficile voire impossible à reconstituer à partir de la représentation sémantique finale : ainsi les deux tiers des erreurs relevées pour L ont été imputables à la transformation des sorties du système en la liste ordonnée des triplets demandée.  L'un des principes retenus par les partenaires M  était que seules les expressions se rapportant à des références hors énoncé devaient être prises en considération.  Étant donné le domaine d'application retenu pour le projet, la résolution des références ne porte  que sur quatre types d'objets : les hôtels, les chambres, les tarifs et les dates. Par ailleurs, les dialogues M sont généralement assez simples. Dans un dialogue standard du corpus, les énoncés les plus complexes sont ceux où l'utilisateur expose ses exigences. Ensuite, le compère pose des questions et, le plus souvent, l'utilisateur lui donne des réponses courtes et elliptiques. Malgré tout, les expressions anaphoriques y sont très diverses et représentatives de l'ensemble des difficultés classiquement rencontrées lors de la résolution des références.  Le corpus contient par exemple un grand nombre d'expressions définies et toutes les classes  d'anaphores qui leur correspondent. Par exemples, suivant la classification proposée par C. Gardent et H. Manuélian (Gardent & Manuelian, 2005), « les » dans l'expression « les ani- maux » de l'extrait de dialogue donné figure 2 est une description autonome : elle ne donne pas lieu à une résolution. Dans ce même extrait le « le » de l'expression « le prix de la chambre » est une description associative ; comme son référent se trouve dans l'énoncé, il n'y a pas de résolution suivant les conventions M . En revanche, « la » dans cette même expression peut être  considérée comme une description contextuelle, liée au référent des hôtels précités. Mais ce  « la » est également coréférentiel dans la mesure où « la chambre » s'identifie avec la chambre demandée par l'utilisateur. Le choix M retient d'ailleurs les deux typologies puisque les segments référentiels de l'annotation contextuelle contiennent les caractéristiques de la chambre demandées par l'utilisateur (chambre simple) et les propriétés des hôtels proposés par le compère. Des expressions anaphoriques similaires sont introduites par des adjectifs démonstratifs : cet hôtel, ces deux chambres, etc..  Le corpus contient également un très grand nombre d'expressions anaphoriques incluant une  notion d'ordre : le premier, le dernier, le deuxième, etc. ou une notion d'exclusion : l'autre, les autres, les deux autres, un autre, d'autres.  On trouve également des pronoms qui désignent des référents au sens M  : je la réserve, est-ce qu'ils acceptent les chiens, etc. alors que, par convention M , l'expression « il y a » n'est pas coréférentielle.  Le principe général adopté pour la résolution des références dans L  reste le même que celui qui prévaut à la compréhension hors contexte : combiner les critères syntaxiques et les critères sémantiques, ceux-ci prévalant sur ceux-là. En effet, si, dans les textes, les critères syntaxiques sont généralement plutôt bien respectés (Boudreau & Kittredge, 2005), il est loin d'en être de même à l'oral où, généralement, l'implicite domine. Le corpus M permet d'illustrer ces affirmations : par exemple, l'une des formulations les plus fréquentes dans le corpus M pour demander si un hôtel accepte les animaux est : « est-ce qu'il acceptent les chiens ». Cette utilisation du pluriel est si fréquente qu'il est difficile de penser qu'il s'agit là d'une faute de syntaxe. Elle correspond ici plutôt à une ellipse pour les « gens de l'hôtel ». On trouve également des expressions telles que « celle à cinquante euros » alors même que le référent logique est un hôtel. Il s'agit bien là encore d'une ellipse pour « la chambre de l'hôtel ». L'une des relations sémantiques fondamentales utilisée pour la construction de la représentation du sens de l'énoncé dans L indique une dépendance entre deux objets. Cette relation conceptuelle générique, désignée par « de », inclut par exemple les relations partie-tout ; elle permet de construire les « chaînes d'objets ». Ainsi « le prix d'une chambre à l'hôtel Ibis » correspond à la chaîne : (tarif []) de (chambre []) de (hotel [(marque "Ibis")]) où l'objet « terminal » est (hotel [(marque "Ibis")]), en l'occurrence une entité nommée. La notion qui prévaut à la compréhension en contexte de dialogue pour le système L est celle de complétion des chaînes d'objets : dans un énoncé, une propriété ou un sous-objet peuvent être complétés par des chaînes de sur-objet du contexte, si cette complétion a un sens, donc si l'ontologie du domaine le permet. Par exemple, pour un énoncé « quels sont les tarifs » l'objet tarif serait automatiquement complété par la chaîne (chambre []) de (hotel [(marque "Ibis")]) si cette chaîne est l'objet contextuel le plus proche. OGUS EDIA  Les dialogues du corpus M  correspondent à un jeu de rôles relativement simple. Le locuteur énonce des contraintes ; le système propose des noms d'hôtels qui sont censés les satisfaire. Au cours du dialogue, l'utilisateur fait évoluer ses exigences et il y a succès si un accord finit par être trouvé entre celles-ci et les propositions du compère. Dans la pratique, les références liées au dialogue portent essentiellement sur les hôtels proposés par le compère et les sous-objets ou propriétés de ces hôtels liés aux exigences du demandeur.  L'objectif étant de pouvoir mesurer objectivement les performances du système à partir des  exigences M , il convenait de respecter les principes généraux de l'annotation et de se limiter aux références qui correspondaient à des indices linguistiques explicites. Les principes généraux exposés dans le paragraphe précédent ont donc dû être largement amendés. Plus précisément, les références renvoyant à des chambres ou à des tarifs ont été traitées conformément à ces principes, avec un recopiage de la chaîne d'objets correspondante jusqu'au sur-objet de cette chaîne : l'hôtel concerné. Afin de faire un choix parmi les chaînes d'objets contextuels désignées comme sémantiquement possibles par l'ontologie, un traitement particulier a dû être appliqué pour chaque forme linguistique de la référence.  Chacun de ces traitements comporte généralement plusieurs niveaux : une première recherche  où critères syntaxiques et sémantiques sont respectés, suivie d'un relâchement progressif des contraintes. Par exemple, « le premier hôtel » est d'abord recherché comme le premier élément de la dernière liste d'hôtels énoncés par le compère. Cependant, rien n'est moins sûr que cette liste existe. Les alea du dialogue, tours de parole interrompus par exemple, font que le compère n'a pas forcément proposé les différents hôtels dans un seul tour de parole : si donc cette première recherche ne rend pas de résultat, « le premier hôtel » sera alors recherché comme le premier hôtel proposé par le compère. De la même manière, chaque expression de « autre » : les deux autres, un autre, l'autre, etc. donne lieu à une stratégie de recherche particulière.  La résolution doit également prendre en compte les erreurs potentielles des locuteurs : erreurs  de genre ou de nombre. Des exemples en ont déjà été donnés dans le paragraphe précédent (cf. 4.1) sous la forme d'ellipses ; il peut aussi s'agir parfois de véritables erreurs de la part du locuteur « ces deux hôtels » alors qu'il y a trois hôtels par exemple. Dans la résolution, ce type de contraintes sur les quantités exprimées ne sont relâchées qu'en tout dernier lieu. Il n'est d'ailleurs pas certain qu'elles devraient l'être dans un véritable système : il serait en effet sans doute plus pertinent que le système signifie à son interlocuteur qu'il ne l'a pas compris.  Les tests ont été faits sur 100 dialogues pris au hasard dans le corpus annoté parmi ceux qui  n'avaient pas servi au développement du système. Le tableau 1 donne les résultats chiffrés ainsi obtenus, et ce, de deux façons différentes. Les premiers sont calculés à partir des segments conceptuels définis dans l'annotation du corpus. Les seconds sont obtenus à partir des objets M eux-mêmes, un objet étant en général défini par plusieurs segments. Par exemple, un hôtel est en général référencé par deux segments conceptuels : son nom et sa ville. Une erreur sur l'un d'entre eux correspond en fait à une erreur sur l'objet lui-même. En revanche, on peut considérer que l'identification de la taille, de la date et de l'hôtel suffisent à référencer  une chambre, même si le (ou les) segments conceptuels qui précisent son prix a été oublié.  Lorsque ces nombres ont été collectés, la différence entre les deux méthodes de calcul semblait flagrante. Or, si les résultats obtenus peuvent être très différents lorsqu'ils se rapportent à un ou deux dialogues, il est étonnant de constater que sur l'ensemble des dialogues testés, ils sont finalement globalement très comparables .  Nb de segments  Segments Segments Rappel Précision F MEDIA (A) corrects (C) incorrects (I) R=C/A) P=C/(C+I) 2RP/(R+P) 572 405 42 0,71 0,91 0,80 Nb d'objets Objets Objets Rappel Précision F' MEDIA (A') corrects (C') incorrects (I') R'=C'/A' P'=C'/(C'+I') 2R'P'/(R'+P') 212 155 19 0,73 0,89 0,80  Qualitativement, on peut classer les fautes faites par le système en quatre catégories.  - Comme l'indique le taux relativement bas du Rappel, la première cause d'erreurs est l'absence de détection de certaines références. Les articles définis sont particulièrement redoutables à cet égard. Par exemple, il n'est pas évident de savoir si une condition sur « les chambres » se rapportent ou non aux hôtels proposés précédemment. Par ailleurs, à l'instar du « it » de la langue anglaise (Boyd et al., 2005), le pronom personnel « il » a beaucoup d'occurrences non référentielles et mériterait un traitement spécifique qui n'est actuellement pas réalisé. - Certaines erreurs sont dues aux difficultés de compréhension des... énoncés du compère (cf. la discussion de la section suivante). Dans un énoncé tel que « Astor Sofitel Novotel arc de triomphe Libertel Arc de triomphe », une segmentation correcte pour détecter les trois hôtels proposés n'est pas si évidente. - D'autres erreurs sont dues à une mauvaise compréhension de la référence elle-même. Ainsi, pour des expressions telles que « la deuxième proposition », « celui qui reste », « celui qui est près de l'autoroute », L donne une référence erronée. - Il semble relativement facile de corriger une bonne partie des bugs précités. En revanche, pour résoudre certaines références, il faudrait munir le système d'une connaissance du contexte autrement plus complexe que celle dont il est actuellement pourvu. Par exemple, dans l'un des dialogues on a les tours de parole suivants :  Compère : « ... il reste cinq cents chambres disponibles »   Compère/Utilisateur : tours de parole concernant la date   Utilisateur : « oui vous me la réservez »  Le « la » fait référence aux cinq chambres demandées par l'utilisateur en début de dialogue, dans des tours de parole relativement éloignés. En relâchant les contraintes de nombre, L choisit les cinq cents chambres... En conclusion, les traitements utilisés n'étant pas très sophistiqués, il serait sans doute relativement facile d'augmenter le rappel sans nuire à la précision. En revanche, un certain nombre de références font appel au « sens commun », celui qui est si difficile à cerner et à implémenter...  Une première critique possible de cette expérience est le caractère quelque peu artificiel de  l'exercice. - La compréhension en contexte de dialogue sur ce corpus a demandé que soit implémentée une compréhension des énoncés compère. Cette tâche n'aurait pas lieu d'être dans le module de compréhension d'un véritable système. Ceci dit, comprendre un énoncé-système est beaucoup plus simple que comprendre un énoncé-utilisateur puisque les formes linguistiques utilisées sont connues et stéréotypées. Mais tout aussi consciencieux et appliqués que soient les compères qui simulent un système dans un corpus élaboré par la technique du Magicien d'Oz, ils ne peuvent pas simuler parfaitement un véritable système. Les expressions qu'ils utilisent ne sont pas entièrement stéréotypées et laissent place à une assez large variabilité. Par ailleurs, il leur arrive également de se tromper, c'est à dire, en l'occurrence, de proposer des réponses non conformes à celles que pourrait proposer le système. - On peut également discuter le bien-fondé du choix fait dans M d'avoir utilisé un corpus dont la retranscription « gomme » les erreurs dues à la reconnaissance de la parole car on sait qu'il s'agit là d'une des plus grandes difficultés rencontrées par les systèmes de compréhension de la langue orale. On peut aussi défendre la position selon laquelle les problèmes traités sont suffisamment complexes pour mériter d'être clairement séparés. L'utilisation du corpus M pour tester le système L présente un autre type d'inconvénients, liés à la nature même du système testé. - La résolution des références faite dans M ne correspond pas vraiment à l'approche de la compréhension en contexte envisagée pour L . Dans M , la résolution des références est entièrement basée sur l'existence d'indices linguistiques ; par exemple, l'expression « est-ce qu'ils acceptent les chiens » demande la résolution d'une référence à cause du pronom ils alors que la question posée sous la forme « est-ce que les chiens sont ac- ceptés » n'est pas référentielle. Dans l'approche L , les deux expressions appellent une résolution identique. L'acceptation des animaux est une propriété relative à un hôtel : la compréhension en contexte demande que soit recherché le (ou les) hôtels éventuellement concerné(s) par cette interrogation. Tester les principes de la compréhension en contexte de L à partir du corpus M a donc demandé que soient mis de côté certains des principes fondamentaux de la compréhension contextuelle. - Enfin, comme il a été dit précédemment, le système L a été conçu pour essayer d'élargir les domaines potentiels de la compréhension en dialogue homme-machine. Un domaine tel que la réservation hôtelière reste trop étroit pour valider complètement l'approche utilisée. La représentation sémantique des énoncés choisie par les partenaires M en triplets (mode, attribut, valeur) reste pertinente pour une telle application et les formules logiques construites par L peuvent apparaître comme inutilement complexes. En même temps et malgré les réserves précédentes, le corpus M est composé de véritables dialogues dans lesquels, malgré leur relative simplicité, on retrouve la plupart des problèmes classiques liés à la résolution des références. L'annotation des références en fait un corpus de langue française parlée très intéressant pour la mise au point de systèmes de compréhension dans le domaine du DOHM.  Les résultats obtenus par L  au cours de cette expérience sont encourageants : ils semblent en effet prouver que la notion de chaînes d'objets utilisée pour la représentation sémantique est un point de départ solide pour la résolution des références et la compréhension en contexte.  Merci à tous les membres du consortium M  pour toutes les discussions que nous avons pu avoir et sans lesquelles ce travail n'aurait pas été possible.  
