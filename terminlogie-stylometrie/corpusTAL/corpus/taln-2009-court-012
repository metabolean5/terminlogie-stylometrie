La modélisation des connaissances d'un domaine de spécialité par le biais des ontologies et  l'annotation linguistique de documents textuels, constituent deux problématiques cruciales de l'ingénieurie des connaissances et du traitement automatique des langues. Ces deux problématiques ont été largement étudiées indépendamment, mais la littérature concernant l'annotation sémantique au regard d'une ontologie n'est pas très importante. Les travaux dans ce domaine  s'appuient généralement sur des ontologies enrichies de connaissances linguistiques permettant  de mettre en correspondance des éléments de l'ontologie avec des fragments de textes.  Dans un précédent article (Ma et al., 2009), nous avons proposé d'étendre les ontologies par  des règles d'annotation sémantique plutôt que par l'ajout d'un niveau linguistique. Cette solution s'intègre mieux dans le cadre des plates-formes d'annotation puisqu'elle s'appuie sur les étages inférieurs d'annotations linguistiques de la plate-forme. Cette solution présente également l'avantage de distinguer clairement le processus d'analyse linguistique et la tâche d'interprétation sémantique, qui seule met l'ontologie en jeu.  L'un des intérêts de cette extension à base de règles est que ces dernières sont inférables par un  ordinateur pour pouvoir être apprises (semi-)automatiquement à partir d'un corpus sémantiquement annoté selon l'ontologie à étendre. Cependant, un apprentissage automatique de ces règles générera inévitablement du bruit qui se traduira par des erreurs d'annotation. L'objectif du présent article est justement de présenter une mesure, basée sur la valeur de Shapley, permettant d'identifier automatiquement les règles qui sont sources de contradiction dans les annotations sémantiques.  Nous distinguons les types d'annotations sémantiques selon la nature de l'élément ontologique  auquel elles se rattachent. Certains mots ou expressions renvoient à des instances de concepts. On les désigne traditionnellement sous le terme d'entités nommées car ils renvoient à des entités référentielles de manière autonome et conventionnelle, comme le mot Marie dans l'exemple de la figure 1. Le processus d'annotation consiste à créer des instances de concepts et à leur rattacher ces entités nommées.  Certains mots ou expressions dénotent des concepts. Ils constituent généralement le vocabulaire  spécialisé du domaine considéré, i.e. la terminologie du domaine. Ces termes (par ex. pièce de  théâtre  ) sont souvent composés de plusieurs mots et ils sont importants à repérer parce qu'ils sont sémantiquement plus pertinents que les mots qui les composent.  Certains mots ou expressions dénotent des rôles conceptuels. De même que les termes peuvent  être rattachés à des concepts dans le processus d'annotation, ils peuvent être rattachés à des rôles si les notions sous-jacentes ont été modélisées sous la forme de rôles plutôt que comme concepts. C'est le cas de lit dans l'exemple de la figure 1, mais le fragment de texte annoté est souvent plus large, les rôles s'exprimant souvent par tournures de phrases qui ne se réduisent pas à un mot-clef.  Certains fragments de texte renvoient à des relations entre instances : une pièce de théâtre de  Molière dans l'exemple de la figure 1. C'est souvent un large fragment qui est annoté comme une relation entre instances.  Certains fragments textuels, enfin, expriment des axiomes ontologiques. Si on était capable  d'analyser une phrase comme les pièces de théâtre sont toujours écrites par quelqu'un, on pourrait de la même manière l'associer à un axiome exprimant une restriction de cardinalité du rôle a-pour-auteur.  Soit O = C, R, I, RI, A une ontologie composée d'un ensemble de concepts (C), de rôles  (R), d'instances (I), de relations entre instances (RI) et d'axiomes (A) et R = R , R , R , R , R , un ensemble de règles permettant d'annoter des fragments de textes en les reliant à des concepts (R ), des rôles (R ), des instances (R ), des relations entre instances (R ) ou des axiomes (R ). Une règle est la donnée d'un couple (P, C) où P (Prémisse) décrit les conditions qu'un segment de texte doit vérifier pour être annoté et C (Conclusion) indique comment annoter le segment. Nous disons qu'une ontologie O est étendue si et seulement si : - pour chaque concept c de C il existe un couple de règles (C , I ) concluant sur c et telles que C  R et C  R ; - pour chaque rôle r de R il existe un couple de règles (R , RI ) concluant sur r et telles que R  R et RI  R ; - pour chaque axiome a de A il existe une règle A  R concluant sur a.  La prémisse d'une règle peut être représentée par un ensemble de patrons qui s'appliquent sur un  corpus. S'il a été préalablement analysé par certains modules d'annotation (étiquetage morphosyntaxique, reconnaissance d'entités nommées, étiquetage terminologique, par exemple) celuici porte déjà des annotations linguistiques. Un patron est une expression qui s'appuie sur ces différents niveaux d'annotations. L'application d'un patron sur un corpus est une opération qui retourne un ensemble de segments du corpus à annoter selon la conclusion de la règle.  A titre d'illustration, voici trois exemples distincts de patrons, écrits dans un pseudo langage  pour en faciliter la compréhension, pour repérer dans le texte des occurrences du concept informatique Système d'exploitation : 1. [texte=&#34;système d'exploitation&#34;] 2. [lemme=&#34;système&#34;][lemme=&#34;de&#34;][lemme=&#34;exploitation&#34;]  3. [terme=&#34;système d'exploitation&#34;]   texte  correspond à la forme brute du texte, lemme à la forme lemmatisée des mots et terme aux annotations de l'extracteur de termes. Ces trois patrons montrent l'intérêt de l'utilisation des différents types d'annotations de la plate-forme. En effet, le premier patron n'est pas générique et ne peut pas reconnaître de simples variations comme Système d'exploitation ou systèmes d'exploitation . Le second est plus générique car insensible à la casse et au nombre. Le dernier est encore plus générique car, selon l'extracteur de termes utilisé, il peut reconnaître des chaînes comme OS pour lesquelles l'extracteur proposera la forme canonique système d'exploitation.  L'objectif d'une extension d'ontologie par des règles d'annotation, comme nous venons de le  décrire, est de réaliser de l'annotation sémantique automatique dans le cadre d'une plate-forme d'annotation. Cette annotation permet de proposer une interprétation ontologique du texte annoté. Inévitablement, certaines annotations seront sources de contradictions au regard de l'ontologie. La cause réelle d'une contradiction peut venir du texte lui-même, de l'ontologie ou encore des règles d'annotations.  Dans cet article, nous ne cherchons pas à remettre en question la cohérence du texte. D'autre  part, une ontologie est généralement constituée manuellement, ou partiellement manuellement et fait l'objet d'une attention particulière (vérifications, évolutions. . .). Par contre, les règles d'annotation ne feront probablement pas l'objet d'autant d'attention, entre autres parce qu'elles sont bien plus nombreuses que les éléments constitutifs de l'ontologie, et que leur validation doit se faire au regard de corpus de taille importante. Notre intention est d'ailleurs d'acquérir ces règles par une procédure aussi automatisée que possible. Ainsi, lorsqu'une contradiction est détectée, la cause la plus probable est bien entendu à chercher dans les règles.  Commençons par formaliser le résultat d'une annotation sémantique.   Definition 1 (Annotation) Une annotation est la donnée d'une paire dénotée Anno définie de  la manière suivante : - si t est un segment de texte reconnu par une règle C  R concluant sur c  C, alors Anno = (t  c, C ) ; - si t est un segment de texte reconnu par une règle I  R concluant sur c  C, alors Anno = (c(t), I ) ; - si t est un segment de texte reconnu par une règle R  R concluant sur r  R, alors Anno = (t  r, R ) ; - si t et t sont deux segments de texte reconnus par une règle RI  R concluant sur r  R, alors Anno = (r(t , t ), RI ) ; Le processus d'annotation sémantique produit donc un ensemble d'annotations ANNT défini par : ANNT = {Anno | Anno est une annotation}.  Soit Anno une annotation constituée de la paire (ax, ru), nous définissons deux fonctions de  projections p (.) et p (.) telles que p (Anno) = ax et p (Anno) = ru. Concrètement, p (.) et p (.) permettent respectivement de faire référence au premier élément (i.e. l'annotation proprement dite) ou au deuxième élément (i.e.. la règle d'annotation) d'une annotation. Par un  petit abus de notation, si ANNT désigne un ensemble d'annotations, nous définissons également  p (ANNT) = {p (Anno) | Anno  ANNT} et p (ANNT) = {p (Anno) | Anno  ANNT}.  Nous pouvons maintenant donner une définition formelle à la notion d'annotations sémantiques  contradictoires en nous appuyant sur la notion de cohérence des logiques de description. Nous rappelons qu'une ontologie O est incohérente (ou insatisfiable) si elle ne possède pas de modèle (Baader et al., 2003). Un exemple très simple d'ontologie incohérente est O = {A(a), ¬A(a)} qui représente deux faits inconciliables qui sont qu'une instance a d'un concept A est également une instance de sa négation. Definition 2 (Annotations et Règles incohérentes) Soit ANNT un ensemble d'annotations sémantiques d'un corpus T selon une ontologie étendue O. Si p (ANNT)  O est incohérent, nous dirons que l'ensemble d'annotations ANNT est incohérent et que l'ensemble de règles p (ANNT) est incohérent au regard du corpus T . Dans le cas contraire, ANNT est dit cohérent et p (ANNT) est dit cohérent au regard du corpus T .  La figure 2 illustre un exemple d'annotations sémantiques incohérentes. Dans cet exemple,  ANNT = { (J U P E(t ), I ), (HOM M E(t ), I ), (F EM M E(t ), I ), (t  HOM M E, C )} où t , t , t correspondent respectivement aux segments de texte &#34;une jupe&#34; , &#34;Bob&#34; et &#34;homme&#34;. L'assertion que HOM M E et F EM M E sont des concepts disjoints dans l'ontologie O rend p (ANNT)  O incohérent. Donc l'ensemble d'annotations ANNT est incohérent et l'ensemble de règles p (ANNT)={I , I , I , C } est incohérent au regard de la phrase.  Par définition, un ensemble d'annotations ANNT est incohérent si et seulement si p  (ANNT)  O est incohérent. Vérifier la cohérence de p (ANNT)  O est une tâche classique à la portée des raisonneurs proposés par la plupart des outils de manipulation d'ontologies .  Nous introduisons la mesure draconienne de cohérence d'un ensemble de règles p  (ANNT) au regard d'un corpus annoté sémantiquement (ANNT) de la manière suivante :  I(p  (ANNT)) = 0 si p (ANNT) est cohérent au regard du corpus annoté sémantiquement, 1 si p (ANNT) est incohérent au regard du corpus annoté sémantiquement.  Nous aimerions maintenant identifier quelles sont les règles responsables de l'incohérence avec,  si possible, une mesure de la responsabilité de chacune. Pour cela, nous allons utiliser la mesure de Shapley (Shapley, 1953; Hunter & Konieczny, 2006) empruntée à la théorie des jeux.  Definition 3 (Mesure de cohérence de Shapley d'une règle) Pour chaque règle r d'un ensemble  de règles p (ANNT) issu d'un ensemble d'annotations ANNT, nous définissons la mesure de cohérence de Shapley, notée S (r), comme suit :  S  (r) = ANNT (card(R)  1)!(card(p (ANNT))  card(R))! card(p (ANNT))! (I(R)  I(R \ r)). (1)  Ainsi, au plus la mesure de cohérence de Shapley d'une règle est élevée, au plus l'implication  de la règle dans les incohérences générées est importante. Il faut donc revoir en premier lieu les règles qui possèdent une mesure de cohérence de Shapley élevée.  En appliquant cette mesure sur l'exemple de la figure 2, nous obtenons :   S  (I ) = 0, S (C ) = 0, S (I ) = 1 2 , S (I ) = 1 2 .  Nous pouvons en conclure que les règles I  et C ne posent pas de problème tandis que les règles I et I sont toutes deux impliquées de manière égale dans le problème d'incohérence. C'est donc du côté de ces deux règles qu'il faut chercher la source du problème. Dans un précédent article, nous avons proposé d'étendre les ontologies par des règles d'annotation sémantique. Dans cet article, en nous appuyant sur la théorie de la valeur de Shapley, nous proposons un moyen de quantifier l'implication respectives des règles dans la production d'annotations sémantiques incohérentes. L'avantage de cette mesure est d'être entièrement automatisée et de permettre d'assister le processus de révision des règles, dans la perspective d'améliorer la cohérence des annotations, en mettant en avant les règles à modifier en priorité. Cette approche doit maintenant être testée et évaluée. Nous projetons de le faire dans la plateforme d'annotation sémantique qui doit être développée dans le cadre du programme Quaero.  
